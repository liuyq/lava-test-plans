{% extends "testcases/master/template-android.jinja2" %}

{% set test_timeout = 120 %}
{% set boottime_timeout = 5 %}
{% set test_name = "boottime" %}

{% block test_target %}

{% with test_timeout=boottime_timeout %}
{% include "include/test_target.jinja2" %}
{% endwith %}

{% with testname="fresh-install", test_operation="COLLECT", test_index="0" %}
{% include "include/android-boottime-definition.jinja2" %}
{% endwith %}
{% with testname="boottime-fresh-install", test_operation="ANALYZE", test_index="0" %}
{% include "include/android-boottime-definition.jinja2" %}
{% endwith %}

{% for index in range(1,8)  %}
{# include "include/boot_target/android-boot.jinja2" #}
{% block boot_target %}
    {{ super() }}
{% endblock boot_target%}
{% with test_timeout=boottime_timeout %}
{% include "include/test_target.jinja2" %}
{% endwith %}

{% with testname="boottime-" + index|string, test_operation="COLLECT", test_index=index %}
{% include "include/android-boottime-definition.jinja2" %}
{% endwith %}
{% if index == 7 %}
{% with testname="boottime-reboot", test_operation="ANALYZE", test_index=index %}
{% include "include/android-boottime-definition.jinja2" %}
{% endwith %}
{% endif %}
{% endfor %}

{% endblock test_target %}
