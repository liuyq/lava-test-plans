- boot:
{% if lxc_project == true %}
    namespace: target
{% endif %}
{% if use_docker_image_for_boot == true %}
    docker:
      image: {{ DOCKER_IMAGE }}
{% if use_local_docker_image_for_test_target == true %}
      local: true
{% endif %}
{% endif %}
{% block boot_commands %}
{% endblock boot_commands %}
{% if auto_login == true %}
{% include "include/boot_target/auto_login.jinja2" %}
{% block auto_login_commands %}
{% include "include/boot_target/auto_login_commands.jinja2" %}
{% endblock auto_login_commands %}
{% endif %}
{% include "include/boot_target/boot_os_prompt.jinja2" %}
{% include "include/boot_target/timeout_and_method.jinja2" %}
{% if FASTBOOT_COMMANDS is defined %}
    commands:
{% for fcmd in FASTBOOT_COMMANDS %}
      - {{ fcmd }}
{% endfor %}
{% endif %}
{% if lxc_project == true and pre_os_command is defined and pre_os_command == true %}
    protocols:
      lava-lxc:
      - action: auto-login-action
        request: pre-os-command
        timeout:
          minutes: 2
{% endif %}

